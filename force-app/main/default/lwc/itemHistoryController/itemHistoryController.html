<template>
  <lightning-card title="Search Item History" icon-name="custom:custom63">
    <div class="slds-m-around_medium">
      <lightning-input
        type="search"
        onchange={handleKeyChange}
        class="slds-m-bottom_small"
        label="Search"
        value={searchKey}
      ></lightning-input>
      <template if:true={itemHistory.data}>
        <div
          class="slds-grid slds-wrap slds-gutters slds-m-vertical_small slds-border_bottom slds-m-bottom_small"
        >
          <p class="slds-size_1-of-5 slds-text-heading_medium">Account</p>
          <p class="slds-size_1-of-5 slds-text-heading_medium">Item</p>
          <p class="slds-size_1-of-5 slds-text-heading_medium">Withdrawn</p>
          <p class="slds-size_1-of-5 slds-text-heading_medium">Due Back</p>
          <p class="slds-size_1-of-5 slds-text-heading_medium">Date Returned</p>
        </div>
        <template for:each={itemHistory.data} for:item="item">
          <div
            key={item.Id}
            class="slds-grid slds-wrap slds-gutters slds-m-vertical_small"
          >
            <p class="slds-size_1-of-5">{item.Account__r.Name}</p>
            <p class="slds-size_1-of-5">{item.Item__r.Name}</p>
            <p class="slds-size_1-of-5">{item.Withdrawn__c}</p>
            <p class="slds-size_1-of-5">{item.Due_Back__c}</p>
            <p class="slds-size_1-of-5">{item.Date_Returned__c}</p>
          </div>
        </template>
      </template>
    </div>
  </lightning-card>
</template>
